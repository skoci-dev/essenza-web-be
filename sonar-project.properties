# SonarQube Project Configuration for Django Backend
# Essenza Web Backend - Security and Code Quality Analysis

# ===============================================
# Project Information
# ===============================================
sonar.projectKey=essenza-web-backend
sonar.projectName=Essenza Web Backend
sonar.projectVersion=1.0
sonar.projectDescription=Django REST API Backend for Essenza Web Application

# ===============================================
# Source Code Configuration
# ===============================================
# Project root directory
sonar.projectBaseDir=.

# Source directories to analyze (excluding docs - auto-generated API documentation)
sonar.sources=apps,config,core,services,utils
sonar.sourceEncoding=UTF-8

# Python specific settings
sonar.python.version=3.10

# ===============================================
# Exclusions
# ===============================================
# Exclude files and directories from analysis
sonar.exclusions=\
    **/__pycache__/**,\
    **/migrations/**,\
    **/venv/**,\
    **/env/**,\
    **/.venv/**,\
    **/node_modules/**,\
    **/static/**,\
    **/media/**,\
    logs/**,\
    **/*.pyc,\
    **/*.pyo,\
    **/*.log,\
    manage.py,\
    config/passenger_wsgi.py,\
    config/wsgi.py,\
    config/asgi.py,\
    docs/**

# ===============================================
# Security Analysis Configuration
# ===============================================
# Enable security rules
sonar.python.security.enable=true

# Security hotspots configuration
sonar.python.security.hotspots.enable=true

# ===============================================
# Code Quality Rules Configuration
# ===============================================
# Quality gates
sonar.qualitygate.wait=true

# Maintainability rules
sonar.python.maintainability.enable=true

# Reliability rules
sonar.python.reliability.enable=true

# Complexity thresholds
sonar.python.complexity.file.max=20
sonar.python.complexity.function.max=10

# Duplication detection
sonar.cpd.python.minimumtokens=100

# ===============================================
# Coverage Configuration (Disabled as requested)
# ===============================================
# Skip coverage analysis
sonar.coverage.exclusions=**/*
sonar.python.coverage.reportPaths=
sonar.python.xunit.reportPath=

# ===============================================
# Language-specific Configuration
# ===============================================
# Python file extensions
sonar.python.file.suffixes=.py

# ===============================================
# Analysis Parameters
# ===============================================
# Enable incremental analysis for faster runs
sonar.scm.provider=git

# Working directory
sonar.working.directory=.scannerwork

# ===============================================
# Quality Gate Configuration
# ===============================================
# Enable quality gate wait for proper CI/CD integration
sonar.qualitygate.wait=true

# Quality gate timeout
sonar.qualitygate.timeout=300

# Note: docs/ directory excluded to prevent duplication from API documentation
# which is typically auto-generated and contains expected duplications

# ===============================================
# Security-focused Rule Profiles
# ===============================================
# Custom quality profile focusing on security
# You can create this profile in SonarQube UI with these rules:

# Security Rules to Enable:
# - S1313: IP addresses should not be hardcoded
# - S2068: Credentials should not be hard-coded
# - S5247: "os.system" should not be used
# - S4830: Server certificates should be verified during SSL/TLS connections
# - S5445: Insecure temporary files should not be created
# - S5542: Encryption algorithms should be robust
# - S2245: Using pseudorandom number generators (PRNGs) is security-sensitive
# - S4790: Cryptographic hash algorithms should be robust
# - S5144: Server-side requests should be authenticated
# - S2091: XPath expressions should not be vulnerable to injection attacks

# Django-specific Security Rules:
# - Django DEBUG mode should be disabled in production
# - Django SECRET_KEY should not be hardcoded
# - Django ALLOWED_HOSTS should be properly configured
# - SQL injection vulnerabilities should be avoided
# - CSRF protection should be enabled
# - Secure cookies should be used

# ===============================================
# Additional Quality Rules
# ===============================================
# Code smell detection
sonar.python.codesmells.enable=true

# Naming conventions
sonar.python.naming.enable=true

# Documentation requirements
sonar.python.docstring.enable=true

# Import organization
sonar.python.imports.enable=true

# ===============================================
# Performance Configuration
# ===============================================
# Memory allocation for analysis
sonar.scanner.javaOpts=-Xmx2048m

# Parallel processing
sonar.scanner.maxParallel=4

# ===============================================
# Reporting Configuration
# ===============================================
# Enable detailed reporting
sonar.verbose=false
sonar.log.level=INFO

# ===============================================
# Integration Settings
# ===============================================
# Git integration for blame information
sonar.scm.disabled=false

# Branch analysis (for SonarCloud/Enterprise)
# sonar.branch.name=dev
# sonar.branch.target=main

# Pull request analysis
# sonar.pullrequest.key=
# sonar.pullrequest.branch=
# sonar.pullrequest.base=

# ===============================================
# Custom Rules Configuration
# ===============================================
# You can add custom rules here or reference external rule sets
# For Django projects, consider using:
# - bandit for security analysis
# - flake8 for style checking
# - pylint for code quality

# ===============================================
# Notes for Setup
# ===============================================
# 1. Install SonarQube Scanner CLI
# 2. Configure SonarQube server connection in scanner properties
# 3. Create security-focused quality profile in SonarQube UI
# 4. Run analysis with: sonar-scanner
# 5. Review results in SonarQube dashboard
# 6. Set up quality gates based on your requirements

# For CI/CD integration, add these environment variables:
# SONAR_TOKEN=your_sonar_token
# SONAR_HOST_URL=your_sonar_server_url